<form class="modalContentContainer" [formGroup]="addProductForm" (ngSubmit)="submited()">
    <h1 mat-dialog-title class="modalTitle">
        {{ title }}
        <div class="rightCross">
            <img class="cancelCross" (click)="closeModal()" src="../../../assets/cancel.png" alt="" />
        </div>
    </h1>
    <div mat-dialog-content class="content">
        <section class="img">
            <div class="modalImagePlaceholder" [style.display]="photoEditor ? 'block': 'none'">
                <video #video id="video" width="640" height="480" autoplay></video>
                <canvas #canvas id="canvas" width="640" height="480" style="display: none;"></canvas>
                <button mat-raised-button color="primary" type="button" (click)="capture()">Capture</button>
            </div>

            <button *ngIf="!photoEditor" mat-raised-button color="primary" type="button" (click)="photoEditor = true">Zrob zdjecie</button>
            <mat-form-field class="example-full-width">
                <mat-label>Nazwa</mat-label>
                <input matInput formControlName="name" placeholder="Jabłko" />
                <mat-error *ngIf="isFieldValid('name')">
                    <div *ngIf="name.errors.required">Nazwa jest wymagana</div>
                    <div *ngIf="name.errors.pattern">Dozwolone tylko litery</div>
                </mat-error>
            </mat-form-field>

        </section>
        <section class="caloricValue">
            <mat-radio-group class="units" formControlName="units" aria-label="Select an option">
                <mat-radio-button color="primary" class="radio-b" value="g"></mat-radio-button>
                <mat-label class="radio-b-g">G</mat-label>
                <mat-radio-button color="primary" class="radio-b" value="mil"></mat-radio-button>
                <mat-label class="radio-b-mil">MIL</mat-label>
                <mat-error *ngIf="units.invalid && (weight.dirty || weight.touched)">
                    <div *ngIf="units.errors.required">Jednostka wagi jest wymagana</div>
                </mat-error>
            </mat-radio-group>
            <br>
            <mat-form-field class="example-full-width">
                <mat-label>Waga jednostki: </mat-label>
                <input matInput formControlName="weight" min="0" type="number" placeholder="10" />
                <mat-error *ngIf="weight.invalid && (weight.dirty || weight.touched)">
                    <div *ngIf="weight.errors.required">Waga jest wymagana</div>
                </mat-error>
                <mat-error>
                    <div hidden="true" *ngIf="weight.invalid">Waga jest wymagana</div>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width" style="width: 190px;">
                <mat-label>Kalorie</mat-label>
                <input matInput formControlName="calories" min="0" type="number" placeholder="134kcl" />
                <span matSuffix>kcl/100g</span>
                <mat-error *ngIf="calories.invalid && (calories.dirty || calories.touched)">
                    <div *ngIf="calories.errors.required">Kalorie są wymagana</div>
                </mat-error>
                <mat-error>
                    <div *ngIf="calories.invalid">Kalorie są wymagana</div>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width" style="width: 190px;">
                <mat-label>Węglowodany</mat-label>
                <input matInput formControlName="carbohydrates" min="0" type="number" placeholder="125" />
                <span matSuffix>ww/100g</span>
                <mat-error *ngIf="carbohydrates.invalid && (carbohydrates.dirty || carbohydrates.touched)">
                    <div *ngIf="carbohydrates.errors.required">Węglowodany są wymagana</div>
                </mat-error>
                <mat-error>
                    <div *ngIf="carbohydrates.invalid">Węglowodany są wymagana</div>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width">
                <mat-label>Białko</mat-label>
                <input matInput formControlName="proteines" min="0" type="number" placeholder="30g" />
                <span matSuffix>/100g</span>
                <mat-error *ngIf="proteines.invalid && (proteines.dirty || proteines.touched)">
                    <div *ngIf="proteines.errors.required">Białko jest wymagane</div>
                </mat-error>
                <mat-error>
                    <div *ngIf="proteines.invalid">Białko jest wymagane</div>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width">
                <mat-label>Tłuszcze</mat-label>
                <input matInput formControlName="fat" min="0" type="number" placeholder="12g" />
                <span matSuffix>/100g</span>
                <mat-error *ngIf="fat.invalid && (fat.dirty || fat.touched)">
                    <div *ngIf="fat.errors.required ">Tłuszcze są wymagane</div>
                </mat-error>
                <mat-error>
                    <div *ngIf="fat.invalid">Tłuszcze są wymagane</div>
                </mat-error>
            </mat-form-field>
        </section>
    </div>
    <div mat-dialog-actions style="justify-content: center">
        <button mat-raised-button [mat-dialog-close]="product">Wczytaj dane z wagi</button>
        <button mat-raised-button color="primary" type="submit">
      Dodaj
    </button>
    </div>
</form>