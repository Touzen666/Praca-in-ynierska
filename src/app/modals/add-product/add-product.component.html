<form class="modalContentContainer" [formGroup]="addProductForm" (ngSubmit)="submited()">
    <h1 mat-dialog-title class="modalTitle">
        {{ title }}
        <div class="rightCross">
            <img class="cancelCross" (click)="closeModal()" src="../../../assets/cancel.png" alt="" />
        </div>
    </h1>
    <div mat-dialog-content class="content">
        <section class="img">
            <div class="imgContainer">
                <div class="modalImagePlaceholder" [style.display]="photoEditor ? 'block': 'none'">
                    <video class="video" #video id="video" width="120" height="120" autoplay></video>
                    <canvas #canvas class="canvas" id="canvas" width="120" height="120" style="display: none;"></canvas>
                    <!-- <p #errorCamera>Error</p> -->
                    <button mat-raised-button color="primary" type="button" (click)="capture()">Zrob
                        zdjecie</button>
                </div>
                <button class="capturPhoto" *ngIf="!photoEditor" mat-raised-button color="primary" type="button"
                    (click)="photoEditor = true">Zrob zdjecie</button>
            </div>
            <mat-form-field class="example-full-width">
                <mat-label>Nazwa</mat-label>
                <input matInput formControlName="name" placeholder="Jabłko" />
                <mat-error *ngIf="isFieldValid('name')">
                    <div *ngIf="name.errors.required">Nazwa jest wymagana</div>
                    <div *ngIf="name.errors.pattern">Dozwolone tylko litery</div>
                </mat-error>
            </mat-form-field>
        </section>
        <section class="caloricValue">
            <mat-radio-group class="units" formControlName="units" aria-label="Select an option">
                <mat-radio-button color="primary" class="radio-b" value="g"></mat-radio-button>
                <mat-label class="radio-b-g">G</mat-label>
                <mat-radio-button color="primary" class="radio-b" value="mil">
                </mat-radio-button>
                <mat-label class="radio-b-mil">MIL</mat-label>
                <mat-error *ngIf="units.invalid && (weight.dirty || weight.touched)">
                    <div *ngIf="units.errors.required">Jednostka wagi jest wymagana</div>
                </mat-error>
            </mat-radio-group>
            <br>
            <mat-form-field class="example-full-width">
                <mat-label>Waga jednostki: </mat-label>
                <input matInput formControlName="weight" min="0" type="number" placeholder="10" />
                <mat-error *ngIf="isFieldValid('weight')">
                    <div *ngIf="weight.errors.required">Waga jest wymagana</div>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width">
                <mat-label>Kalorie</mat-label>
                <input matInput formControlName="calories" min="0" type="number" placeholder="134kcl" />
                <span matSuffix *ngIf="units.value === 'g'">kcl/100g</span>
                <span matSuffix *ngIf="units.value === 'mil'">kcl/100mil</span>
                <mat-error *ngIf="isFieldValid('calories')">
                    <div *ngIf="calories.errors.required">Kalorie są wymagana</div>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width">
                <mat-label>Węglowodany</mat-label>
                <input matInput formControlName="carbohydrates" min="0" type="number" placeholder="125" />
                <span matSuffix *ngIf="units.value === 'g'">ww/100g</span>
                <span matSuffix *ngIf="units.value === 'mil'">ww/100mil</span>
                <mat-error *ngIf="isFieldValid('carbohydrates')">
                    <div *ngIf="carbohydrates.errors.required">Węglowodany są wymagana</div>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width">
                <mat-label>Białko</mat-label>
                <input matInput formControlName="proteines" min="0" type="number" placeholder="30g" />
                <span matSuffix *ngIf="units.value">/100g</span>
                <mat-error *ngIf="isFieldValid('proteines')">
                    <div *ngIf="proteines.errors.required">Białko jest wymagane</div>
                </mat-error>
            </mat-form-field>
            <mat-form-field class="example-full-width">
                <mat-label>Tłuszcze</mat-label>
                <input matInput formControlName="fat" min="0" type="number" placeholder="12g" />
                <span matSuffix *ngIf="units.value">/100g</span>
                <mat-error *ngIf="isFieldValid('fat')">
                    <div *ngIf="fat.errors.required ">Tłuszcze są wymagane</div>
                </mat-error>
            </mat-form-field>
        </section>
    </div>
    <div mat-dialog-actions style="justify-content: center">
        <button mat-raised-button [mat-dialog-close]="product">Wczytaj dane z wagi</button>
        <button mat-raised-button color="primary" type="submit">
            Dodaj
        </button>
    </div>
</form>